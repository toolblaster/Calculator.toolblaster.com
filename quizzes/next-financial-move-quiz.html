<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Updated Meta Title (58 chars) -->
    <title>Quiz: What's Your Next Best Financial Move? Action Plan</title>
    <!-- Updated Meta Description (157 chars) -->
    <meta name="description" content="Take our quick financial quiz for a personalized primary & secondary action plan. Discover your next best move for building wealth and achieving security.">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <!-- Include styles needed for buttons -->
    <link rel="stylesheet" href="../calculators/financial-calculator/calculator-style.css">


    <style>
        /* --- General Quiz Container --- */
        .quiz-container {
            max-width: 650px; /* Slightly narrower */
            margin: 1.5rem auto; /* Reduced margin */
            background-color: #ffffff;
            padding: 1.25rem; /* Slightly reduced padding */
            border-radius: 0.75rem; /* More rounded */
            box-shadow: 0 6px 15px rgba(0,0,0,0.07); /* Softer shadow */
            border: 1px solid #e5e7eb; /* Subtle border */
            overflow: hidden;
        }

        /* --- Quiz Header --- */
        .quiz-header {
            text-align: center;
            padding: 1rem 0.5rem; /* Adjusted padding */
            background-color: #fef2f2; /* red-50 */
            border-radius: 0.5rem;
            margin-bottom: 1.5rem; /* Spacing below header */
            border: 1px solid #fee2e2; /* red-100 */
        }
        .quiz-header h1 {
            font-size: 1.1rem; /* Slightly smaller */
            font-weight: 800; /* Bolder */
            color: #1f2937; /* gray-800 */
            margin-bottom: 0.25rem;
            position: relative;
             padding-bottom: 0.4rem;
        }
         /* Accent line below H1 */
        .quiz-header h1::after {
            content: ''; display: block; width: 40px; height: 3px;
            background-color: #E34037; /* Accent red */
            margin: 0.4rem auto 0;
        }
        .quiz-header p {
            color: #4b5563; /* gray-600 */
            font-size: 0.7rem; /* Smaller */
            max-width: 90%;
            margin: 0 auto;
        }

        /* --- Progress Bar --- */
        #progress-bar-container {
            width: 100%;
            background-color: #e5e7eb; /* gray-200 */
            border-radius: 999px;
            height: 10px; /* Slightly thicker */
            margin-bottom: 0.25rem; /* Reduced margin */
            overflow: hidden; /* Ensure gradient stays contained */
        }
        #progress-bar {
            height: 100%;
            width: 0%;
            /* Updated to Gradient */
            background: linear-gradient(90deg, #f87171 0%, #E34037 100%); /* red-400 to accent */
            border-radius: 999px;
            transition: width 0.4s ease-in-out;
        }
        .progress-text {
            text-align: center;
            font-size: 0.65rem; /* Smaller */
            font-weight: 500;
            color: #6b7280; /* gray-500 */
            margin-bottom: 1.25rem; /* Reduced margin */
        }

        /* --- Questions & Options --- */
        .question-block.active { display: block; }
        .question-block { display: none; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

        .question-text {
            font-size: 0.8rem; /* Smaller */
            font-weight: 600;
            color: #1f2d37;
            margin-bottom: 0.75rem; /* Reduced margin */
            padding-bottom: 0.5rem;
            border-bottom: 1px dashed #d1d5db; /* Separator */
        }

        .option-label {
            display: flex; /* Use flex for alignment */
            align-items: center; /* Vertically align */
            padding: 0.6rem 0.8rem; /* Adjusted padding */
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 0.5rem; /* More rounded */
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-size: 0.7rem; /* Smaller */
            background-color: #fff;
            position: relative; /* For pseudo-element checkmark */
        }
        .option-label:hover {
            background-color: #f9fafb;
            border-color: #E34037;
            box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }
        .option-label input { display: none; }
        .option-label.selected {
            background-color: #fef2f2; /* red-50 */
            border-color: #E34037;
            color: #B91C1C; /* Darker red */
            font-weight: 600;
            box-shadow: 0 3px 6px rgba(227, 64, 55, 0.1);
        }
        /* Checkmark Styling */
        .option-label::before {
            content: '';
            display: inline-block;
            width: 14px; /* Size of circle */
            height: 14px;
            border: 1px solid #9ca3af; /* gray-400 */
            border-radius: 50%;
            margin-right: 0.6rem; /* Space */
            background-color: #fff;
            transition: all 0.2s ease;
        }
        .option-label.selected::before {
             background-color: #E34037;
             border-color: #E34037;
             box-shadow: inset 0 0 0 2px white; /* Inner circle effect */
        }

        /* --- Results Section --- */
        #results-content { display: none; text-align: center; }

        .results-header {
            background-color: #fef2f2; /* red-50 */
            border-radius: 0.5rem;
            padding: 1rem 1rem; /* Adjusted padding */
            margin-bottom: 1rem; /* Reduced margin */
            border: 1px solid #fecaca; /* red-200 */
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        #result-header-icon {
            width: 40px; /* Smaller */
            height: 40px;
            margin: 0 auto 0.75rem; /* Reduced margin */
            color: #B91C1C; /* Darker red */
        }
        .result-title {
            font-size: 1.1rem; /* Slightly smaller */
            font-weight: 800;
            color: #1f2d37;
            margin-bottom: 0.1rem;
        }
        .result-description {
            font-size: 0.75rem; /* Smaller */
            color: #4b5563;
        }

        /* --- Action Grid & Cards (Alignment & Font Size Updates) --- */
        .action-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem; /* Further reduced gap */
        }
        @media (min-width: 640px) {
            .action-grid { grid-template-columns: 1fr 1fr; }
        }

        .action-card {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 0.75rem; /* Reduced padding */
            text-align: left;
            display: flex;
            flex-direction: column; /* Ensure vertical stacking */
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* Softer shadow */
            transition: box-shadow 0.3s ease;
            height: 100%; /* Make cards in a row equal height */
        }
         .action-card:hover { box-shadow: 0 5px 10px rgba(0,0,0,0.08); }

        .action-card.primary { border-left: 3px solid #E34037; /* Thinner accent */ }
        .action-card.secondary { border-left: 3px solid #4f46e5; /* Thinner accent */ }

        .action-card-header {
            display: flex;
            align-items: center;
            gap: 0.4rem; /* Reduced gap */
            margin-bottom: 0.4rem; /* Reduced margin */
        }
        .action-card-header .tag {
            font-size: 0.55rem; /* Smaller tag text */
            font-weight: 700;
            padding: 0.1rem 0.4rem;
            border-radius: 999px;
            color: white;
            text-transform: uppercase;
            line-height: 1.2; /* Adjust line height */
        }
        .action-card.primary .action-card-header .tag { background-color: #E34037; }
        .action-card.secondary .action-card-header .tag { background-color: #4f46e5; }
        .action-card-header h4 {
            font-size: 0.75rem; /* Smaller H4 */
            font-weight: 700;
            color: #1f2d37;
            line-height: 1.3; /* Adjust line height */
        }
        .action-card .reason {
            font-size: 0.65rem; /* Smaller reason text */
            color: #4b5563;
            margin-bottom: 0.5rem; /* Reduced margin */
            font-style: italic;
            border-left: 2px solid #e5e7eb;
            padding-left: 0.5rem;
            line-height: 1.4;
        }
        .action-card ul { list-style: none; padding: 0; margin: 0 0 0.5rem 0; } /* Remove bottom margin here */
        .action-card li { margin-bottom: 0.25rem; } /* Reduced margin */
        .action-card a {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem; /* Reduced gap */
            text-decoration: none;
            font-weight: 600;
            font-size: 0.7rem; /* Smaller link text */
            transition: color 0.2s, background-color 0.2s, transform 0.2s;
            padding: 0.15rem 0.3rem; /* Reduced padding */
            border-radius: 0.25rem;
        }
        .action-card.primary a { color: #C22D2D; }
        .action-card.secondary a { color: #4f46e5; }
        .action-card.primary a:hover { color: #991b1b; background-color: #fee2e2; transform: translateX(2px);}
        .action-card.secondary a:hover { color: #3730a3; background-color: #e0e7ff; transform: translateX(2px);}
        .action-card a svg { width: 12px; height: 12px; } /* Smaller link icon */

        .what-if-card {
            background-color: #f9fafb; /* gray-50 */
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem; /* Smaller radius */
            padding: 0.6rem; /* Reduced padding */
            margin-top: auto; /* Push to bottom */
            /* Removed fixed margin-top */
        }
        .what-if-card h5 {
            font-size: 0.7rem; /* Smaller */
            font-weight: 600;
            color: #1f2d37;
            margin-bottom: 0.2rem; /* Reduced margin */
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
         .what-if-card h5 svg { width: 12px; height: 12px; color: #16a34a; } /* Smaller icon */
        .what-if-body {
            font-size: 0.65rem; /* Smaller */
            color: #4b5563;
            line-height: 1.3;
        }
        .what-if-body strong {
            color: #16a34a; /* green-600 */
        }

        /* --- Buttons --- */
        #retake-quiz-btn {
            margin-top: 1rem; /* Reduced margin */
            /* Inheriting btn-secondary styles */
        }

        #quiz-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem; /* Reduced margin */
        }
        .nav-button {
            padding: 0.4rem 1rem; /* Adjusted padding */
            font-size: 0.75rem; /* Smaller */
            font-weight: 600;
            background-color: #e5e7eb; /* gray-200 */
            color: #374151; /* gray-700 */
            border: 1px solid #d1d5db; /* gray-300 */
             border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .nav-button:hover:not(:disabled) {
            background-color: #d1d5db; /* gray-300 */
            transform: translateY(-1px);
        }
        .nav-button:disabled { opacity: 0.5; cursor: not-allowed; }
        #prev-btn {
            background-color: #6b7280; /* gray-500 */
            color: white;
            border-color: #6b7280;
        }
        #prev-btn:hover:not(:disabled) { background-color: #4b5563; /* gray-600 */ }

        /* --- Notification Toast (No changes needed) --- */
         #notification-toast { /* ... existing styles ... */ }
         #notification-toast.show { /* ... existing styles ... */ }

    </style>
</head>
<body class="bg-gray-50">

    <div id="header-placeholder"></div>

    <main class="container">
        <div class="quiz-container">
            <div id="quiz-content">
                <!-- Updated Header -->
                <div class="quiz-header">
                    <h1>What's Your Next Financial Move?</h1>
                    <p>This quick check-up helps prioritize your finances, giving you clear primary and secondary actions.</p>
                </div>

                <div id="progress-bar-container">
                    <div id="progress-bar"></div>
                </div>
                <p id="progress-text" class="progress-text">Step 1 of X</p> <!-- Dynamically updated -->

                <form id="next-move-quiz-form">
                    <!-- Question 1 -->
                    <div class="question-block active" data-question-index="0">
                        <p class="question-text">1. Do you have a dedicated emergency fund covering at least 3 months of essential expenses?</p>
                        <div class="options-container">
                            <label class="option-label"><input type="radio" name="q_emergency" value="yes" required> Yes, fully covered.</label>
                            <label class="option-label"><input type="radio" name="q_emergency" value="no" required> No, not yet or partially.</label>
                        </div>
                    </div>
                    <!-- Question 2 -->
                    <div class="question-block" data-question-index="1">
                        <p class="question-text">2. Do you carry high-interest debt (e.g., credit cards not paid fully, personal loans >12%)?</p>
                        <div class="options-container">
                            <label class="option-label"><input type="radio" name="q_debt" value="yes" required> Yes, I have some.</label>
                            <label class="option-label"><input type="radio" name="q_debt" value="no" required> No, I'm clear of high-interest debt.</label>
                        </div>
                    </div>
                    <!-- Question 2a (Conditional) -->
                    <div class="question-block" data-question-index="2" data-condition='{"q_debt": "yes"}'>
                        <p class="question-text">2a. What type of high-interest debt is your main concern?</p>
                        <div class="options-container">
                            <label class="option-label"><input type="radio" name="q_debt_type" value="credit_card" required> Credit Card balances</label>
                            <label class="option-label"><input type="radio" name="q_debt_type" value="personal_loan"> Personal Loan</label>
                            <label class="option-label"><input type="radio" name="q_debt_type" value="other"> Other high-interest loans</label>
                        </div>
                    </div>
                    <!-- Question 3 -->
                    <div class="question-block" data-question-index="3">
                        <p class="question-text">3. What percentage of your monthly income are you currently saving or investing?</p>
                        <div class="options-container">
                            <label class="option-label"><input type="radio" name="q_savings_rate" value="high" required> More than 20%</label>
                            <label class="option-label"><input type="radio" name="q_savings_rate" value="medium"> 10% - 20%</label>
                            <label class="option-label"><input type="radio" name="q_savings_rate" value="low" required> Less than 10%</label>
                        </div>
                    </div>
                    <!-- Question 4 -->
                    <div class="question-block" data-question-index="4">
                        <p class="question-text">4. Have you planned and started your tax-saving investments (Sec 80C) for this year?</p>
                        <div class="options-container">
                             <label class="option-label"><input type="radio" name="q_tax" value="yes" required> Yes, planned and automated.</label>
                            <label class="option-label"><input type="radio" name="q_tax" value="no" required> No, usually do it last minute.</label>
                        </div>
                    </div>
                    <!-- Question 5 -->
                    <div class="question-block" data-question-index="5">
                        <p class="question-text">5. Are you consistently investing each month for long-term goals (e.g., retirement via SIP)?</p>
                        <div class="options-container">
                            <label class="option-label"><input type="radio" name="q_investing" value="yes" required> Yes, I have a regular plan (like SIP).</label>
                            <label class="option-label"><input type="radio" name="q_investing" value="no" required> No, not investing regularly yet.</label>
                        </div>
                    </div>
                    <!-- Question 6 -->
                    <div class="question-block" data-question-index="6">
                        <p class="question-text">6. Your primary goal for long-term investing (5+ years) is:</p>
                        <div class="options-container">
                            <label class="option-label"><input type="radio" name="q_risk" value="high" required> Highest possible growth (comfortable with volatility).</label>
                            <label class="option-label"><input type="radio" name="q_risk" value="medium"> Balance of safety and growth.</label>
                            <label class="option-label"><input type="radio" name="q_risk" value="low" required> Protecting my capital is most important.</label>
                        </div>
                    </div>
                </form>

                <!-- Updated Navigation -->
                <div id="quiz-navigation">
                    <button id="prev-btn" class="nav-button" disabled>
                       <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-1"><path d="m15 18-6-6 6-6"/></svg>
                        Previous
                    </button>
                    <!-- Next button is usually hidden and only shown by JS if needed -->
                </div>
            </div>

            <!-- Results area -->
            <div id="results-content">
                <!-- Results structure will be dynamically inserted here by JS -->
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>
     <div id="notification-toast"></div> <!-- Added for notifications -->


    <script src="../script.js"></script>
    <!-- Use type="module" if your script uses import/export -->
    <script type="module" src="next-financial-move-quiz.js"></script>

</body>
</html>
